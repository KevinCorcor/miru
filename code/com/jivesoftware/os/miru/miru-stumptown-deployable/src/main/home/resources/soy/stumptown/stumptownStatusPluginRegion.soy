{namespace soy.stumptown.page}

/**
 * Stumptown Status plugin page
 * 
 * @param? serviceStatus
 */
{template .stumptownStatusPluginRegion}
    {if $serviceStatus}
        <div class="panel panel-default">
            <div class="panel-heading">Status</div>
                <div class="panel-body">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>ERROR</th>
                                <th>WARN</th>
                                <th>INFO</th>
                                <th>Cluster</th>
                                <th>Host</th>
                                <th>Service</th>
                                <th>Instance</th>
                                <th>Version</th>
                            </tr>
                        </thead>
                        <tbody>
                            {foreach $status in $serviceStatus}
                                <tr>
                                    <td>
                                        <input class="form-control" type="button" value="{$status.error}"
                                            onclick="document.location.href='query?logLevels=ERROR&amp;cluster={$status.cluster}&amp;host={$status.host}&amp;service={$status.service}&amp;instance={$status.instance}';" />
                                    </td>
                                    <td>
                                        <input class="form-control" type="button" value="{$status.warn}"
                                            onclick="document.location.href='query?logLevels=WARN&amp;cluster={$status.cluster}&amp;host={$status.host}&amp;service={$status.service}&amp;instance={$status.instance}';" />
                                    </td>
                                    <td>
                                        <input class="form-control" type="button" value="{$status.info}"
                                            onclick="document.location.href='query?logLevels=INFO&amp;cluster={$status.cluster}&amp;host={$status.host}&amp;service={$status.service}&amp;instance={$status.instance}';" />
                                    </td>
                                    <td>{$status.cluster}</td>
                                    <td>{$status.host}</td>
                                    <td>{$status.service}</td>
                                    <td>{$status.instance}</td>
                                    <td>{$status.version}</td>
                                </tr>
                            {/foreach}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    {/if}
{/template}
